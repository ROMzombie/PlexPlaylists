<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">

<dom-module id="home-view">
  <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
      a, a:hover, a:visited, a:active, a:link { text-decoration: none };
      .card-image {
	width: 230px; 
        height: 230px;
        margin: 0 auto;
      }
      .card {
        width: 250px;
        display: inline-block;
      }
    </style>

    <div>
      <template is="dom-repeat" items="[[playlists]]" as="playlist">
        <a href="/playlist/[[playlist.ratingKey]]"><div class="card">
          <div class="card-image"
             style="background-image: url('/api/playlist/[[playlist.ratingKey]]/thumbnail');background-size: contain;">&nbsp;
          </div>
          <h3>[[_trimPlaylistTitle(playlist.title)]]</h3>
        </div></a>
      </template>
    </div>
  </template>

  <script>
    class HomeView extends Polymer.Element {
      static get is() { return 'home-view'; }

      static get propertites () { 
        return {
          playlists: { type: Array }
        };
      }

      _trimPlaylistTitle(title) {
        return String(title).substring(1);
      }
    }

    window.customElements.define(HomeView.is, HomeView);
  </script>
</dom-module>
